---
title: Tidy Tuesday - MyAnimeList
author: ~
date: '2019-04-23'
slug: tidy-tuesday
categories: []
tags: ["TidyTuesday", "tidyverse", "ggplot2", "plotly"]
description: 'Exploring MyAnimeList.net Data'
topics: []
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<div id="myanimelist.net" class="section level1">
<h1>MyAnimelist.net</h1>
<p>This week TidyTuesday posted data from an anime and manga social networking and social cataloging website, MyAnimeList (MAL). This data will be interesting to examine because last summer I started watching anime shows and got hooked. I am a little embarrassed to admit it but Iâ€™ve seen a lot of different shows since then. I hope I get to find some new shows that I can watch later.</p>
<div id="data" class="section level2">
<h2>Data</h2>
<p>Below are the different variables found within the dataset. There are a lot of different things we can look into but today we will be making graphs to visualize the most popular anime shows. The data has three different categories that I am interested in: <em>popularity</em>, <em>favorities</em>, and <em>rank</em>. Additionally, I wanted to demonstrate how easy it is to make dynamic plots out of static ggplots.</p>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["animeID","name","title_english","title_japanese","title_synonyms","type","source","producers","genre","studio","episodes","status","airing","start_date","end_date","duration","rating","score","scored_by","rank","popularity","members","favorites","synopsis","background","premiered","broadcast","related"],["double","character","character","character","character","character","character","character","character","character","double","character","logical","double","double","character","character","double","double","double","double","double","double","character","character","character","character","character"],["Anime ID (as in https://myanimelist.net/anime/animeID)","anime title - extracted from the site.","title in English (sometimes is different, sometimes is missing)","title in Japanese (if Anime is Chinese or Korean, the title, if available, in the respective language)","other variants of the title","anime type (e.g. TV, Movie, OVA)","source of anime (i.e original, manga, game, music, visual novel etc.)","producers","genre","studio","number of episodes","Aired or not aired","True/False is still airing","Start date (ymd)","End date (ymd)","Per episode duration or entire duration, text string","Age rating","Score (higher = better)","Number of users that scored","Rank - weight according to MyAnimeList formula","based on how many members/users have the respective anime in their list","number members that added this anime in their list","number members that favorites these in their list","long string with anime synopsis","long string with production background and other things","anime premiered on season/year","when is (regularly) broadcasted","dictionary: related animes, series, games etc."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>class<\/th>\n      <th>description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","columnDefs":[{"className":"dt-left","targets":[0,1,2]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="load-packages" class="section level2">
<h2>Load Packages</h2>
<p>There are a few packages that I have also used but I did not want to load
them all in my environment just for a few functions but they are: <strong>readr</strong>, <strong>lubridate</strong>, <strong>plotly</strong>, <strong>htmltools</strong>, and <strong>gridExtra</strong>.</p>
</div>
</div>
<div id="rise-in-anime-popularity" class="section level1">
<h1>Rise in Anime Popularity</h1>
<div align="center">
<div id="htmlwidget-2" style="width:100%;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"orientation":"v","width":[null,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[null,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[78,82,92,93,97,99,108,133,148,151,178,181,177,198,184,166,159,154,170,194,204,194,262,255,275,308,357,420,385,419,483,475,572,655,644,757,694,802,811,768,74],"text":["Year: 1979<br />count:  78","Year: 1980<br />count:  82","Year: 1981<br />count:  92","Year: 1982<br />count:  93","Year: 1983<br />count:  97","Year: 1984<br />count:  99","Year: 1985<br />count: 108","Year: 1986<br />count: 133","Year: 1987<br />count: 148","Year: 1988<br />count: 151","Year: 1989<br />count: 178","Year: 1990<br />count: 181","Year: 1991<br />count: 177","Year: 1992<br />count: 198","Year: 1993<br />count: 184","Year: 1994<br />count: 166","Year: 1995<br />count: 159","Year: 1996<br />count: 154","Year: 1997<br />count: 170","Year: 1998<br />count: 194","Year: 1999<br />count: 204","Year: 2000<br />count: 194","Year: 2001<br />count: 262","Year: 2002<br />count: 255","Year: 2003<br />count: 275","Year: 2004<br />count: 308","Year: 2005<br />count: 357","Year: 2006<br />count: 420","Year: 2007<br />count: 385","Year: 2008<br />count: 419","Year: 2009<br />count: 483","Year: 2010<br />count: 475","Year: 2011<br />count: 572","Year: 2012<br />count: 655","Year: 2013<br />count: 644","Year: 2014<br />count: 757","Year: 2015<br />count: 694","Year: 2016<br />count: 802","Year: 2017<br />count: 811","Year: 2018<br />count: 768","Year: 2019<br />count:  74"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1979,2021],"tickmode":"array","ticktext":["1980","1985","1990","1995","2000","2005","2010","2015","2020"],"tickvals":[1980,1985,1990,1995,2000,2005,2010,2015,2020],"categoryorder":"array","categoryarray":["1980","1985","1990","1995","2000","2005","2010","2015","2020"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0,811],"tickmode":"array","ticktext":["0","200","400","600","800"],"tickvals":[0,200,400,600,800],"categoryorder":"array","categoryarray":["0","200","400","600","800"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"# of Animes Produced","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"26382f3d3173":{"x":{},"type":"bar"}},"cur_data":"26382f3d3173","visdat":{"26382f3d3173":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<p>I guess I am not alone when it comes to getting hooked on anime shows. Since the start of the century, the number of anime shows produced has seen a large increase. Below we calculated the growth of the number of anime shows produced compared to the year before . Year 2001 saw the greatest increase in the number of shows produced compared to the year before (26%). On average, there has been an increase of <em>6.86%</em> each year between 2000 and 2018.</p>
<p><img src="/post/2019-04-23-tidy-tuesday_files/figure-html/percent_Increase-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="how-many-of-the-top-shows-have-i-watched" class="section level1">
<h1>How many of the top shows have I watched?</h1>
<p>The three variables that we are looking at are popularity, fan favorites, and rank. There is a lot of overlap between these three categories. The <em>popularity</em> variable counts how many times a show is put on a MAL memberâ€™s personal watch list. However, it is unclear whether the lists include animes that members have already watched or plan to watch according to the data dictionary provided from TidyTuesday. Members are also able categorize which animes are their favorite, and the <em>favorite</em> variable counts this information. Lastly, members can give anime shows a score. MAL uses their own formula to give each anime a <em>rank</em>, which appears to be calculated from the average score given for each anime while accounting how many members took the time to give the anime a score.</p>
<div id="top-100-ranked-anime-shows" class="section level2">
<h2>Top 100 Ranked Anime Shows</h2>
<p>There are over <em>13631</em> unique animes listed in the dataset so I am only going to take a look at the top 100. We will make a scatterplot to show the top 100 <em>ranked</em> anime shows based on the number of members that have the anime on their personal list and the number of members that have the anime as their favorite. I made the scatterplot dynamic and when you hover over each point, you will be see the actual count of popularity (members) and favorites, name of the anime, a rank based on popularity (popularity), a score given by MAL members, rank based on the the score(Rank), and whether the anime is still currently airing.</p>
<div align="center">
<div id="htmlwidget-3" style="width:100%;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"data":[{"x":[803871],"y":[76869],"text":"members:  803871<br />favorites:  76869<br />title_english: One Piece<br />Popularity: 36<br />Score: 8.53<br />Rank: 94<br />status: Currently Airing","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Currently Airing","legendgroup":"Currently Airing","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1610561,1500958,1442099,1355349,1195384,1148869,1139182,1105583,1098928,1091313,1082349,1064223,1008836,961853,958412,949941,930820,901294,900244,900593,891865,889504,874667,869302,868611,860895,854022,853312,846194,840943,837736,833325,828528,807963,804997,804512,799464,795733,789004,781129,776641,773500,767501,757703,738964,736540,734909,734942,715531,702865,703619,696859,695525,696264,686065,676778,660561,654148,646884,644246,632291,624382,618062,613643,614349,609977,602539,602134,600289,591990,595128,592822,587060,583026,579513,577939,574048,568463,568249,567723,561095,556869,553071,543752,542280,535005,534177,535390,528354,524335,521235,514009,515731,506123,506551,501230,498285,491047,490961],"y":[96146,70555,53268,120331,35969,32274,104173,38504,35211,39356,68684,25002,38471,20927,28657,13811,8543,20990,40060,43260,48972,42878,16107,47637,54079,18972,22764,24385,12218,76048,30409,26078,45557,25797,8151,24571,23877,43460,17043,8670,8635,14199,18100,15631,14419,22736,29814,22969,45828,7487,17115,15781,36531,17474,5365,12190,50079,13958,28122,7105,7941,11647,19652,8133,11211,20333,21300,14744,11869,23468,10877,13577,15575,14351,15410,25017,8346,11828,9907,13175,7252,27110,11898,14571,6098,10846,16005,8361,4337,18650,6656,3177,5924,36245,3062,7133,8256,9545,10426],"text":["members: 1610561<br />favorites:  96146<br />title_english: Death Note<br />Popularity: 1<br />Score: 8.66<br />Rank: 54<br />status: Finished Airing","members: 1500958<br />favorites:  70555<br />title_english: Attack on Titan<br />Popularity: 2<br />Score: 8.48<br />Rank: 116<br />status: Finished Airing","members: 1442099<br />favorites:  53268<br />title_english: Sword Art Online<br />Popularity: 3<br />Score: 7.58<br />Rank: 1440<br />status: Finished Airing","members: 1355349<br />favorites: 120331<br />title_english: Fullmetal Alchemist: Brotherhood<br />Popularity: 4<br />Score: 9.24<br />Rank: 1<br />status: Finished Airing","members: 1195384<br />favorites:  35969<br />title_english: One Punch Man<br />Popularity: 5<br />Score: 8.71<br />Rank: 46<br />status: Finished Airing","members: 1148869<br />favorites:  32274<br />title_english: Tokyo Ghoul<br />Popularity: 6<br />Score: 7.98<br />Rank: 594<br />status: Finished Airing","members: 1139182<br />favorites: 104173<br />title_english: Steins;Gate<br />Popularity: 7<br />Score: 9.14<br />Rank: 3<br />status: Finished Airing","members: 1105583<br />favorites:  38504<br />title_english: Angel Beats!<br />Popularity: 8<br />Score: 8.29<br />Rank: 256<br />status: Finished Airing","members: 1098928<br />favorites:  35211<br />title_english: No Game, No Life<br />Popularity: 9<br />Score: 8.38<br />Rank: 188<br />status: Finished Airing","members: 1091313<br />favorites:  39356<br />title_english: Naruto<br />Popularity: 10<br />Score: 7.9<br />Rank: 705<br />status: Finished Airing","members: 1082349<br />favorites:  68684<br />title_english: Code Geass: Lelouch of the Rebellion<br />Popularity: 11<br />Score: 8.77<br />Rank: 32<br />status: Finished Airing","members: 1064223<br />favorites:  25002<br />title_english: The Future Diary<br />Popularity: 12<br />Score: 7.84<br />Rank: 824<br />status: Finished Airing","members: 1008836<br />favorites:  38471<br />title_english: Toradora!<br />Popularity: 13<br />Score: 8.38<br />Rank: 191<br />status: Finished Airing","members:  961853<br />favorites:  20927<br />title_english: Noragami: Stray God<br />Popularity: 14<br />Score: 8.14<br />Rank: 391<br />status: Finished Airing","members:  958412<br />favorites:  28657<br />title_english: My Hero Academia<br />Popularity: 15<br />Score: 8.42<br />Rank: 152<br />status: Finished Airing","members:  949941<br />favorites:  13811<br />title_english: Blue Exorcist<br />Popularity: 16<br />Score: 7.8<br />Rank: 888<br />status: Finished Airing","members:  930820<br />favorites:   8543<br />title_english: Sword Art Online II<br />Popularity: 17<br />Score: 7.16<br />Rank: 3058<br />status: Finished Airing","members:  901294<br />favorites:  20990<br />title_english: Elfen Lied<br />Popularity: 18<br />Score: 7.72<br />Rank: 1067<br />status: Finished Airing","members:  900244<br />favorites:  40060<br />title_english: Fairy Tail<br />Popularity: 19<br />Score: 8.04<br />Rank: 506<br />status: Finished Airing","members:  900593<br />favorites:  43260<br />title_english: Your Name.<br />Popularity: 20<br />Score: 9.14<br />Rank: 2<br />status: Finished Airing","members:  891865<br />favorites:  48972<br />title_english: Naruto: Shippuden<br />Popularity: 21<br />Score: 8.19<br />Rank: 340<br />status: Finished Airing","members:  889504<br />favorites:  42878<br />title_english: Bleach<br />Popularity: 22<br />Score: 7.89<br />Rank: 713<br />status: Finished Airing","members:  874667<br />favorites:  16107<br />title_english: Akame ga Kill!<br />Popularity: 23<br />Score: 7.77<br />Rank: 946<br />status: Finished Airing","members:  869302<br />favorites:  47637<br />title_english: Code Geass: Lelouch of the Rebellion R2<br />Popularity: 24<br />Score: 8.94<br />Rank: 17<br />status: Finished Airing","members:  868611<br />favorites:  54079<br />title_english: Gurren Lagann<br />Popularity: 25<br />Score: 8.72<br />Rank: 42<br />status: Finished Airing","members:  860895<br />favorites:  18972<br />title_english: Soul Eater<br />Popularity: 26<br />Score: 8.01<br />Rank: 560<br />status: Finished Airing","members:  854022<br />favorites:  22764<br />title_english: Fullmetal Alchemist<br />Popularity: 27<br />Score: 8.28<br />Rank: 268<br />status: Finished Airing","members:  853312<br />favorites:  24385<br />title_english: KILL la KILL<br />Popularity: 28<br />Score: 8.18<br />Rank: 349<br />status: Finished Airing","members:  846194<br />favorites:  12218<br />title_english: Another<br />Popularity: 29<br />Score: 7.73<br />Rank: 1029<br />status: Finished Airing","members:  840943<br />favorites:  76048<br />title_english: Hunter x Hunter<br />Popularity: 30<br />Score: 9.12<br />Rank: 5<br />status: Finished Airing","members:  837736<br />favorites:  30409<br />title_english: Re:ZERO -Starting Life in Another World-<br />Popularity: 31<br />Score: 8.39<br />Rank: 180<br />status: Finished Airing","members:  833325<br />favorites:  26078<br />title_english: Psycho-Pass<br />Popularity: 32<br />Score: 8.43<br />Rank: 150<br />status: Finished Airing","members:  828528<br />favorites:  45557<br />title_english: Your Lie in April<br />Popularity: 33<br />Score: 8.86<br />Rank: 20<br />status: Finished Airing","members:  807963<br />favorites:  25797<br />title_english: Durarara!!<br />Popularity: 34<br />Score: 8.27<br />Rank: 274<br />status: Finished Airing","members:  804997<br />favorites:   8151<br />title_english: High School of the Dead<br />Popularity: 36<br />Score: 7.33<br />Rank: 2345<br />status: Finished Airing","members:  804512<br />favorites:  24571<br />title_english: ERASED<br />Popularity: 37<br />Score: 8.54<br />Rank: 89<br />status: Finished Airing","members:  799464<br />favorites:  23877<br />title_english: Clannad<br />Popularity: 38<br />Score: 8.19<br />Rank: 330<br />status: Finished Airing","members:  795733<br />favorites:  43460<br />title_english: Cowboy Bebop<br />Popularity: 39<br />Score: 8.81<br />Rank: 26<br />status: Finished Airing","members:  789004<br />favorites:  17043<br />title_english: Spirited Away<br />Popularity: 40<br />Score: 8.91<br />Rank: 18<br />status: Finished Airing","members:  781129<br />favorites:   8670<br />title_english: Attack on Titan Season 2<br />Popularity: 41<br />Score: 8.44<br />Rank: 143<br />status: Finished Airing","members:  776641<br />favorites:   8635<br />title_english: Tokyo Ghoul vA<br />Popularity: 42<br />Score: 7.39<br />Rank: 2132<br />status: Finished Airing","members:  773500<br />favorites:  14199<br />title_english: My Hero Academia 2<br />Popularity: 43<br />Score: 8.71<br />Rank: 42<br />status: Finished Airing","members:  767501<br />favorites:  18100<br />title_english: Parasyte -the maxim-<br />Popularity: 44<br />Score: 8.5<br />Rank: 104<br />status: Finished Airing","members:  757703<br />favorites:  15631<br />title_english: The Seven Deadly Sins<br />Popularity: 45<br />Score: 8.24<br />Rank: 294<br />status: Finished Airing","members:  738964<br />favorites:  14419<br />title_english: Death Parade<br />Popularity: 46<br />Score: 8.25<br />Rank: 284<br />status: Finished Airing","members:  736540<br />favorites:  22736<br />title_english: Fate/Zero<br />Popularity: 47<br />Score: 8.42<br />Rank: 155<br />status: Finished Airing","members:  734909<br />favorites:  29814<br />title_english: Bakemonogatari<br />Popularity: 48<br />Score: 8.35<br />Rank: 203<br />status: Finished Airing","members:  734942<br />favorites:  22969<br />title_english: anohana: The Flower We Saw That Day<br />Popularity: 49<br />Score: 8.53<br />Rank: 93<br />status: Finished Airing","members:  715531<br />favorites:  45828<br />title_english: Neon Genesis Evangelion<br />Popularity: 50<br />Score: 8.33<br />Rank: 215<br />status: Finished Airing","members:  702865<br />favorites:   7487<br />title_english: The Devil is a Part-Timer!<br />Popularity: 51<br />Score: 7.95<br />Rank: 630<br />status: Finished Airing","members:  703619<br />favorites:  17115<br />title_english: Food Wars! Shokugeki no Soma<br />Popularity: 52<br />Score: 8.52<br />Rank: 98<br />status: Finished Airing","members:  696859<br />favorites:  15781<br />title_english: Guilty Crown<br />Popularity: 53<br />Score: 7.71<br />Rank: 1092<br />status: Finished Airing","members:  695525<br />favorites:  36531<br />title_english: Puella Magi Madoka Magica<br />Popularity: 54<br />Score: 8.44<br />Rank: 140<br />status: Finished Airing","members:  696264<br />favorites:  17474<br />title_english: KonoSuba: God's Blessing on This Wonderful World!<br />Popularity: 55<br />Score: 8.18<br />Rank: 350<br />status: Finished Airing","members:  686065<br />favorites:   5365<br />title_english: Deadman Wonderland<br />Popularity: 56<br />Score: 7.38<br />Rank: 2143<br />status: Finished Airing","members:  676778<br />favorites:  12190<br />title_english: Assassination Classroom<br />Popularity: 57<br />Score: 8.21<br />Rank: 311<br />status: Finished Airing","members:  660561<br />favorites:  50079<br />title_english: Clannad ~After Story~<br />Popularity: 58<br />Score: 9<br />Rank: 12<br />status: Finished Airing","members:  654148<br />favorites:  13958<br />title_english: High School DxD<br />Popularity: 59<br />Score: 7.58<br />Rank: 1430<br />status: Finished Airing","members:  646884<br />favorites:  28122<br />title_english: A Silent Voice<br />Popularity: 60<br />Score: 9.03<br />Rank: 10<br />status: Finished Airing","members:  644246<br />favorites:   7105<br />title_english: Is It Wrong to Try to Pick Up Girls in a Dungeon?<br />Popularity: 61<br />Score: 7.81<br />Rank: 876<br />status: Finished Airing","members:  632291<br />favorites:   7941<br />title_english: Noragami Aragoto<br />Popularity: 62<br />Score: 8.39<br />Rank: 178<br />status: Finished Airing","members:  624382<br />favorites:  11647<br />title_english: Love, Chunibyo & Other Delusions!<br />Popularity: 63<br />Score: 7.87<br />Rank: 757<br />status: Finished Airing","members:  618062<br />favorites:  19652<br />title_english: The Pet Girl of Sakurasou<br />Popularity: 64<br />Score: 8.31<br />Rank: 244<br />status: Finished Airing","members:  613643<br />favorites:   8133<br />title_english: Log Horizon<br />Popularity: 65<br />Score: 8.08<br />Rank: 471<br />status: Finished Airing","members:  614349<br />favorites:  11211<br />title_english: Charlotte<br />Popularity: 66<br />Score: 7.91<br />Rank: 684<br />status: Finished Airing","members:  609977<br />favorites:  20333<br />title_english: Black Butler<br />Popularity: 67<br />Score: 7.96<br />Rank: 619<br />status: Finished Airing","members:  602539<br />favorites:  21300<br />title_english: Samurai Champloo<br />Popularity: 68<br />Score: 8.5<br />Rank: 108<br />status: Finished Airing","members:  602134<br />favorites:  14744<br />title_english: Darker than Black<br />Popularity: 69<br />Score: 8.19<br />Rank: 331<br />status: Finished Airing","members:  600289<br />favorites:  11869<br />title_english: Mob Psycho 100<br />Popularity: 70<br />Score: 8.5<br />Rank: 106<br />status: Finished Airing","members:  591990<br />favorites:  23468<br />title_english: Dragon Ball Z<br />Popularity: 71<br />Score: 8.3<br />Rank: 249<br />status: Finished Airing","members:  595128<br />favorites:  10877<br />title_english: Overlord<br />Popularity: 71<br />Score: 8.08<br />Rank: 473<br />status: Finished Airing","members:  592822<br />favorites:  13577<br />title_english: Hyouka<br />Popularity: 72<br />Score: 8.15<br />Rank: 377<br />status: Finished Airing","members:  587060<br />favorites:  15575<br />title_english: My Teen Romantic Comedy SNAFU<br />Popularity: 74<br />Score: 8.1<br />Rank: 450<br />status: Finished Airing","members:  583026<br />favorites:  14351<br />title_english: The Melancholy of Haruhi Suzumiya<br />Popularity: 75<br />Score: 7.97<br />Rank: 610<br />status: Finished Airing","members:  579513<br />favorites:  15410<br />title_english: Maid Sama!<br />Popularity: 76<br />Score: 8.19<br />Rank: 336<br />status: Finished Airing","members:  577939<br />favorites:  25017<br />title_english: Ouran High School Host Club<br />Popularity: 77<br />Score: 8.32<br />Rank: 225<br />status: Finished Airing","members:  574048<br />favorites:   8346<br />title_english: Beyond the Boundary<br />Popularity: 78<br />Score: 7.86<br />Rank: 790<br />status: Finished Airing","members:  568463<br />favorites:  11828<br />title_english: Princess Mononoke<br />Popularity: 79<br />Score: 8.79<br />Rank: 30<br />status: Finished Airing","members:  568249<br />favorites:   9907<br />title_english: Nisekoi: False Love<br />Popularity: 80<br />Score: 7.79<br />Rank: 915<br />status: Finished Airing","members:  567723<br />favorites:  13175<br />title_english: Terror in Resonance<br />Popularity: 81<br />Score: 8.19<br />Rank: 345<br />status: Finished Airing","members:  561095<br />favorites:   7252<br />title_english: Seraph of the End: Vampire Reign<br />Popularity: 82<br />Score: 7.62<br />Rank: 1321<br />status: Finished Airing","members:  556869<br />favorites:  27110<br />title_english: Haikyu!!<br />Popularity: 83<br />Score: 8.65<br />Rank: 57<br />status: Finished Airing","members:  553071<br />favorites:  11898<br />title_english: Fate/Zero Season 2<br />Popularity: 84<br />Score: 8.64<br />Rank: 62<br />status: Finished Airing","members:  543752<br />favorites:  14571<br />title_english: K-ON!<br />Popularity: 85<br />Score: 7.86<br />Rank: 787<br />status: Finished Airing","members:  542280<br />favorites:   6098<br />title_english: Fate/stay night<br />Popularity: 86<br />Score: 7.49<br />Rank: 1696<br />status: Finished Airing","members:  535005<br />favorites:  10846<br />title_english: Howl's Moving Castle<br />Popularity: 87<br />Score: 8.72<br />Rank: 39<br />status: Finished Airing","members:  534177<br />favorites:  16005<br />title_english: Kuroko's Basketball<br />Popularity: 88<br />Score: 8.34<br />Rank: 212<br />status: Finished Airing","members:  535390<br />favorites:   8361<br />title_english: My Hero Academia 3<br />Popularity: 89<br />Score: 8.68<br />Rank: 50<br />status: Finished Airing","members:  528354<br />favorites:   4337<br />title_english: My Little Monster<br />Popularity: 90<br />Score: 7.69<br />Rank: 1141<br />status: Finished Airing","members:  524335<br />favorites:  18650<br />title_english: Baccano!<br />Popularity: 91<br />Score: 8.47<br />Rank: 118<br />status: Finished Airing","members:  521235<br />favorites:   6656<br />title_english: Magi: The Labyrinth of Magic<br />Popularity: 92<br />Score: 8.2<br />Rank: 321<br />status: Finished Airing","members:  514009<br />favorites:   3177<br />title_english: Black Bullet<br />Popularity: 93<br />Score: 7.35<br />Rank: 2256<br />status: Finished Airing","members:  515731<br />favorites:   5924<br />title_english: KonoSuba: God's Blessing on This Wonderful World! 2<br />Popularity: 93<br />Score: 8.37<br />Rank: 193<br />status: Finished Airing","members:  506123<br />favorites:  36245<br />title_english: Gintama<br />Popularity: 95<br />Score: 9<br />Rank: 13<br />status: Finished Airing","members:  506551<br />favorites:   3062<br />title_english: BTOOOM!<br />Popularity: 96<br />Score: 7.56<br />Rank: 1476<br />status: Finished Airing","members:  501230<br />favorites:   7133<br />title_english: The Familiar of Zero<br />Popularity: 97<br />Score: 7.51<br />Rank: 1655<br />status: Finished Airing","members:  498285<br />favorites:   8256<br />title_english: 5 Centimeters Per Second<br />Popularity: 98<br />Score: 7.91<br />Rank: 682<br />status: Finished Airing","members:  491047<br />favorites:   9545<br />title_english: Dragon Ball<br />Popularity: 99<br />Score: 8.14<br />Rank: 382<br />status: Finished Airing","members:  490961<br />favorites:  10426<br />title_english: Black Lagoon<br />Popularity: 100<br />Score: 8.12<br />Rank: 412<br />status: Finished Airing"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"Finished Airing","legendgroup":"Finished Airing","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":66.4840182648402},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[434981,1666541],"tickmode":"array","ticktext":["800,000","1,200,000","1,600,000"],"tickvals":[800000,1200000,1600000],"categoryorder":"array","categoryarray":["800,000","1,200,000","1,600,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"# MAL Members with Anime in their List","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2801.45,126194.45],"tickmode":"array","ticktext":["0","25,000","50,000","75,000","100,000","125,000"],"tickvals":[0,25000,50000,75000,100000,125000],"categoryorder":"array","categoryarray":["0","25,000","50,000","75,000","100,000","125,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"# MAL Members with Anime in their Favorites","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"2638664d65f7":{"x":{},"y":{},"text":{},"colour":{},"type":"scatter"}},"cur_data":"2638664d65f7","visdat":{"2638664d65f7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<p>Surprisingly only one of the top 100 animes is still currently airing. What is more surprising is that the same anime has more than 800 episodes. I am curious to check it out but worried that if I like it there will be a never ending storyline.</p>
<p>I used the <strong>plotly</strong> package for the plot above to help provide readers with more information about the anime when you hover your mouse over each point, called the tooltip. This does not require a lot of extra code (code provided at the end of post) to make your ggplot more informative without cluttering your graph, but it is confusing the first time. There is a great resource for learning how to make interactive plots efficiently with <strong>plotly</strong> <a href="https://plotly-r.com/index.html">here</a>.</p>
</div>
<div id="ive-watched-only-4-of-the-top-20-ranked-animes." class="section level2">
<h2>Iâ€™ve <span style="color: #67A9CF">watched</span> only 4 of the top 20 ranked animes.</h2>
<p><img src="/post/2019-04-23-tidy-tuesday_files/figure-html/rank-1.png" width="672" /></p>
</div>
<div id="top-20-most-popular-and-fan-favorite-anime-shows." class="section level2">
<h2>Top 20 Most Popular and Fan Favorite anime shows.</h2>
<p>As far as the most popular and fan favorite, there is a lot of overlap. Many of the popular ones are also fan favorites of MAL members, but there are a few that are in one category but not the other.</p>
<p><img src="/post/2019-04-23-tidy-tuesday_files/figure-html/top_anime-1.png" width="672" /></p>
<p>I have seen almost half of the top popular and favorite anime shows. There are definitely a few anime shows whose name I recognize from the lists above but I have yet to watch because they did not catch my interest when I would be browsing for animes to watch. However, maybe now I will give them a chance.</p>
</div>
</div>
<div id="code" class="section level1">
<h1>Code</h1>
<p>Below is the code for everything in this post.</p>
<pre class="r"><code># Set up options for rmarkdown chunks
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = FALSE, comment = &quot;&quot;)
# Load Data
tidy_anime &lt;- readr::read_csv(&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-04-23/tidy_anime.csv&quot;)
# Use read_html to read the underlying html structure and objects found on the page
page &lt;- xml2::read_html(&quot;https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-04-23&quot;)

# Use html_table to pull all tables from page 
dictionary &lt;- rvest::html_table(page)

DT::datatable(dictionary[[2]], 
              rownames = FALSE,
              options = list(dom = &#39;tp&#39;,
                             columnDefs = list(list(className = &#39;dt-left&#39;, 
                                                    targets = 0:2))))
# Load Packages
library(tidyverse)
library(grid)
# ggplot of the number of animes produced over the years 
production &lt;- tidy_anime %&gt;% 
  distinct(animeID, .keep_all = TRUE) %&gt;% 
  mutate(Year = lubridate::year(start_date)) %&gt;% 
  ggplot() +
  stat_count(aes(Year), na.rm = TRUE) +
  scale_x_continuous(limits = c(1979, 2021), breaks = seq(1980, 2020, 5), 
                     expand = c(0, 0)) +
  scale_y_continuous(name = &quot;# of Animes Produced&quot;, expand = c(0, 0)) +
  theme_classic() 

# Converting static ggplot into dynamic plotly graph. Wrapped it within a div 
# tag using the htmltools to center it in my output. 
htmltools::div(plotly::ggplotly(production), align = &quot;center&quot;)
# ggplot demonstrating percentages of animes produced compared to the year
# before
production$data %&gt;% 
  count(Year) %&gt;% 
  filter(between(Year, 2000, 2018)) %&gt;% 
  mutate(Percent_Change = (n - lag(n)) / n) %&gt;% 
  mutate(Increase = ifelse(Percent_Change &gt; 0, &quot;Yes&quot;, &quot;No&quot;)) %&gt;% 
  ggplot() +
  stat_identity(aes(Year, Percent_Change, fill = Increase), geom = &quot;bar&quot;) +
  geom_text(aes(Year, Percent_Change, label = ifelse(Percent_Change &gt; 0,
    paste(round(Percent_Change * 100, 1), &quot;%&quot;, sep = &quot;&quot;), &quot;&quot;)), 
    vjust = -1, size = 3) +
  geom_text(aes(Year, Percent_Change, label = ifelse(Percent_Change &lt; 0,
    paste(round(Percent_Change * 100, 1), &quot;%&quot;, sep = &quot;&quot;), &quot;&quot;)),
    vjust = 1, size = 3) +
  scale_x_continuous(breaks = seq(2001, 2019, 2), expand = c(0, 0)) +
  scale_y_continuous(
    name = &quot;Percent of Animes Produced Compared to the Year Before&quot;,
    labels = scales::percent, limits = c(-.10, .30)) +
  scale_fill_manual(values = c(&quot;#d7191c&quot;, &quot;#1a9641&quot;)) +
  theme_classic() +
  theme(legend.position = &quot;none&quot;, )
# Interactive Plotly scatterplot of top 100 most popular animes with additional
# information in the tooltip when you hover over the point
pop_fav &lt;- tidy_anime %&gt;% 
  distinct(animeID, .keep_all = TRUE) %&gt;%
  select(1, 3, 12, 18, 20:24) %&gt;% 
  arrange(popularity) %&gt;% 
  slice(., 1:100) %&gt;% 
  ggplot() +
  geom_point(aes(members, favorites, 
# Plotly automatically adds the x &amp; y variables in their tooltip. I used the 
# group, text, and color aesthetics from ggplot2 to add more. 
# In the text aes(), I added &quot;&lt;br /&gt;&quot; which simply means line break. That way
# the tooltip can fit on the screen and be easier to read, otherwise it would
# place all the information on one long horizontal line.
                 group = title_english,
                 text = str_c(&quot;Popularity: &quot;, popularity, &quot;&lt;br /&gt;&quot;, 
                              &quot;Score: &quot;, score, &quot;&lt;br /&gt;&quot;,
                              &quot;Rank: &quot;, rank, sep = &quot;&quot;),
                 color = status)) +
  labs(x = &quot;# MAL Members with Anime in their List&quot;,
       y = &quot;# MAL Members with Anime in their Favorites&quot;) +
  scale_x_continuous(labels = scales::comma) +
  scale_y_continuous(labels = scales::comma) +
  theme_classic() +
  theme(legend.position = &quot;none&quot;)

# Centering plotly above in the output
htmltools::div(plotly::ggplotly(pop_fav), align=&quot;center&quot;)
# Plot of top 20 ranked animes
tidy_anime %&gt;% 
  distinct(animeID, .keep_all = TRUE) %&gt;%
  select(1, 2:3, 6, 18, 20) %&gt;% 
  arrange(rank) %&gt;% 
  slice(., 1:20) %&gt;% 
  mutate(Name = ifelse(is.na(title_english), name, title_english),
         Watched = ifelse(animeID %in% c(5114, 32281, 199, 23273), 
                          &quot;Yes&quot;, &quot;No&quot;)) %&gt;% 
  ggplot() +
  geom_point(aes(fct_reorder(Name, score), score, color = Watched), 
             size = 12) +
  geom_text(aes(fct_reorder(Name, score), score, label = score), 
            color = &quot;white&quot;) +
  labs(x = &quot;MAL Score&quot;) +
  scale_color_manual(values = c(&quot;#777777&quot;, &quot;#67A9CF&quot;, &quot;#777777&quot;)) +
  coord_flip() +
  theme_classic() +
  theme(panel.grid.major.y = element_line(color = &quot;lightgrey&quot;),
        axis.line = element_blank(),
        axis.text.x = element_blank(),
        axis.ticks = element_blank(),
        axis.title.y = element_blank(),
        legend.position = &quot;none&quot;)
#Clean ggplot2 theme
clean_theme &lt;- theme_classic() +
  theme(legend.position = &quot;none&quot;, axis.line.x = element_blank(), 
        axis.text.x = element_blank(), axis.ticks.y = element_blank(), 
        axis.title.y = element_blank())

#Plot of top popular anime shows 
pop &lt;- tidy_anime %&gt;% 
  distinct(animeID, .keep_all = TRUE) %&gt;% 
  arrange(.$popularity) %&gt;% 
  slice(., 1:20) %&gt;% 
  mutate(Watched = ifelse(animeID %in% c(1535, 16498, 11757, 5114, 30276,
                                         22319, 6547, 20, 32281), 
                          &quot;Yes&quot;, &quot;No&quot;)) %&gt;% 
  ggplot() +
  geom_bar(aes(fct_reorder(title_english, popularity, .desc = TRUE), members,
               fill = Watched), stat = &quot;Identity&quot;) +
  scale_fill_manual(values = c(&quot;#777777&quot;, &quot;#67A9CF&quot;)) +
  geom_text(aes(title_english, members, label = members), 
            nudge_y = -110000, color = &quot;white&quot;, fontface = &quot;bold&quot;) +
  scale_y_discrete(name = &quot;# of MAL Members with Anime in their List&quot;, 
                   expand = c(0,0)) +
  coord_flip() +
  clean_theme

#Creating multicolor title for plot
pop_title &lt;- grobTree(
  gp = gpar(fontsize = 20, fontface = &quot;bold&quot;), 
  textGrob(label = &quot;I&#39;ve&quot;, 
           name = &quot;title1&quot;,
           x = unit(0.2, &quot;lines&quot;), 
           y = unit(0.5, &quot;lines&quot;), 
           hjust = 0, vjust = 0, gp = gpar(col = &quot;#777777&quot;)),
  textGrob(label = &quot;watched&quot;, name = &quot;title2&quot;,
           x = grobWidth(&quot;title1&quot;) + unit(0.4, &quot;lines&quot;), 
           y = unit(0.5, &quot;lines&quot;),
           hjust = 0, vjust = 0, gp = gpar(col = &quot;#67a9cf&quot;)),
  textGrob(label = &quot;9 out of the top 20 most popular animes.&quot;, 
           name = &quot;title3&quot;,
           x = grobWidth(&quot;title1&quot;) + grobWidth(&quot;title2&quot;) + unit(0.7, &quot;lines&quot;), 
           y = unit(0.5, &quot;lines&quot;),
           hjust = 0, vjust = 0, gp = gpar(col = &quot;#777777&quot;)))

#Arranging title on top of plot
grid_pop &lt;- gridExtra::arrangeGrob(pop, top = pop_title, 
                             padding = unit(2.6, &quot;line&quot;))

#Plot of top favorite anime shows
favs &lt;- tidy_anime %&gt;% 
  distinct(animeID, .keep_all = TRUE) %&gt;% 
  arrange(desc(.$favorites)) %&gt;% 
  slice(., 1:20) %&gt;% 
  mutate(Watched = ifelse(animeID %in% c(5114, 1535, 16498, 11757, 1735, 23273,
                                         32281, 20, 6547), &quot;Yes&quot;, &quot;No&quot;)) %&gt;% 
  ggplot() +
  geom_bar(aes(fct_reorder(title_english, favorites, .desc = FALSE), favorites,
               fill = Watched), stat = &quot;Identity&quot;) +
  scale_fill_manual(values = c(&quot;#777777&quot;, &quot;#67A9CF&quot;)) +
  geom_text(aes(title_english, favorites, label = favorites), 
            nudge_y = -9000, color = &quot;white&quot;, fontface = &quot;bold&quot;) +
  scale_y_discrete(
    name = &quot;# of MAL Members with Anime in their Favorites List&quot;,
    expand = c(0,0)) +
  coord_flip() +
  clean_theme

#Creating multicolor title for plot
favs_title &lt;- grobTree(
  gp = gpar(fontsize = 20, fontface = &quot;bold&quot;), 
  textGrob(label = &quot;And 9 out of the top 20 fan favorite animes.&quot;, 
           name = &quot;title1&quot;,
           x = unit(0.2, &quot;lines&quot;), 
           y = unit(0.5, &quot;lines&quot;), 
           hjust = 0, vjust = 0, gp = gpar(col = &quot;#777777&quot;)))

#Arranging title on top of plot
grid_favs &lt;- gridExtra::arrangeGrob(favs, top = favs_title, 
                             padding = unit(2.6, &quot;line&quot;))

#Final Plot
watched &lt;- gridExtra::arrangeGrob(grid_pop, grid_favs)
grid.draw(watched)</code></pre>
</div>
